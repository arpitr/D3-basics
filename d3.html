<!DOCTYPE html>
<html>
<head>
  <title>D3 Tutorial</title>
</head>
<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script>

      d3.csv('histogram.csv',function (error,data) {
      console.log(data);

      var map = data.map(function (d) { return parseInt(d.age)});
      console.log(map);

      var histogram = d3.layout.histogram()
          .bins(5)
          (map)

      var canvas = d3.select("body").append('svg')
          .attr('width',800)
          .attr('height',800);

      var bars = canvas.selectAll('.bar')
          .data(histogram)
          .enter()
          .append('g');

      bars.append('rect')
          .attr("x",function(d) { return d.x * 5;})
          .attr("y",0)
          .attr("fill","steelblue")
          .attr("width", function (d) { return d.dx * 5 -5;})
          .attr("height", function (d) {return d.y * 10;});

      })
      
  </script>
</body>
</html>
