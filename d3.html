<!DOCTYPE html>
<html>
<head>
  <title>D3 Tutorial</title>
</head>
<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script>

    d3.json("diagonal.json",function(error,data) {
      var canvas = d3.select('body').append("svg")
                  .attr("width",700)
                  .attr("height",700)
                  .append('g')
                      .attr("transform","translate(100,100)");

      var tree = d3.layout.tree()
          .size([400,400])
          
        if(error) console.log(data);
        var nodes = tree.nodes(data);
        console.log(nodes);
        var links = tree.links(nodes);

        var node = canvas.selectAll('.node')
            .data(nodes)
            .enter()
            .append('g')
                .attr('class',"node")
                .attr("transform",function (d) {
                  return "translate(" + d.y + "," + d.x + ")";
                });

         node.append("circle")
             .attr("r",5)
             .attr("fill","steelblue");

         node.append("text")
             .text(function (d) { return d.name;})

        var diagonal = d3.svg.diagonal()
            .projection(function (d) { return [d.y, d.x]});

         canvas.selectAll(".link") 
             .data(links)
             .enter()
             .append("path")
             .attr("class","link")
             .attr("fill","none")
             .attr("stroke","black")
             .attr("d",diagonal)


      })

  </script>
</body>
</html>
